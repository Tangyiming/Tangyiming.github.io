<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="lang">
  <head>
    <title data-vue-tag="true">Vue防抖并赋值data值 - blog by Eamon</title><meta name="gridsome:hash" content="55ea135516a9391ddd302ce542d16cfa7d8c6bd8"><meta data-vue-tag="true" charset="utf-8"><meta data-vue-tag="true" name="generator" content="Gridsome v0.7.19"><meta data-vue-tag="true" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="true" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="true" data-key="description" name="description" content="While the world sleep I dream"><meta data-vue-tag="true" name="description" content="远程模糊搜索select下拉项时，为了避免输入时过多的请求，在vue中添加优化防抖功能"><link data-vue-tag="true" rel="icon" href="data:,"><link data-vue-tag="true" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.941055146bc7e4fecb7d710c9e51025e.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.941055146bc7e4fecb7d710c9e51025e.png"><link data-vue-tag="true" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.941055146bc7e4fecb7d710c9e51025e.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.941055146bc7e4fecb7d710c9e51025e.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.941055146bc7e4fecb7d710c9e51025e.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.941055146bc7e4fecb7d710c9e51025e.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.941055146bc7e4fecb7d710c9e51025e.png"><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.941055146bc7e4fecb7d710c9e51025e.png"><link rel="preload" href="/assets/css/0.styles.dd589af0.css" as="style"><link rel="preload" href="/assets/js/app.4e082d9d.js" as="script"><link rel="preload" href="/assets/js/page--src-templates-post-vue.4ce22b07.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-0-7-19-gridsome-app-pages-404-vue.7aa53d9f.js"><link rel="prefetch" href="/assets/js/page--src-pages-index-vue.6b0318e0.js"><link rel="prefetch" href="/assets/js/page--src-templates-tag-vue.22bdaa56.js"><link rel="stylesheet" href="/assets/css/0.styles.dd589af0.css"><noscript data-vue-tag="true" ><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body data-vue-tag="">
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← blog by Eamon
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      Vue防抖并赋值data值
    </h1><div class="post-meta">
   Posted 7. November 2019.
   <strong>1 min read.</strong></div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><p>远程模糊搜索select下拉项时，为了避免输入时过多的请求，在vue中添加优化防抖功能，但是中间遇到了两个问题：</p>
<p>1.防抖不起作用，根本不delay，最终发现是函数声明方式导致。使用箭头函数声明，箭头函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象，它是固定不变的。</p>
<p>2.因为箭头函数里this指向作用域问题，无法给data中的变量赋值，最终通过先获得顶层this域，再赋值解决。</p>
<p>上代码：</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>省略<span class="token operator">--</span><span class="token operator">></span>
     <span class="token operator">&lt;</span>a<span class="token operator">-</span>select
       showSearch
       allowClear
       <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"department"</span>
       <span class="token operator">:</span>defaultActiveFirstOption<span class="token operator">=</span><span class="token string">"false"</span>
       <span class="token operator">:</span>showArrow<span class="token operator">=</span><span class="token string">"false"</span>
       <span class="token operator">:</span>filterOption<span class="token operator">=</span><span class="token string">"false"</span>
       @search<span class="token operator">=</span><span class="token string">"val => handleSearch('department', val)"</span>
       @change<span class="token operator">=</span><span class="token string">"val => handleChange('department', val)"</span><span class="token operator">></span>
           <span class="token operator">&lt;</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option
            v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"d in departmentList"</span>
            <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"d"</span>
            <span class="token operator">></span><span class="token punctuation">{</span><span class="token punctuation">{</span> d <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">-</span>option
           <span class="token operator">></span>
     <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">-</span>select<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>省略<span class="token operator">--</span><span class="token operator">></span>

<span class="token keyword module">import</span> <span class="token punctuation">{</span> queryAsset <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">'@/api/toolset'</span>
<span class="token keyword module">import</span> _ <span class="token keyword module">from</span> <span class="token string">'lodash'</span>
<span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token punctuation">{</span>
<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            departmentList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            department<span class="token operator">:</span> <span class="token string">''</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _this <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
        handleSearch<span class="token operator">:</span> _<span class="token punctuation">.</span><span class="token method function property-access">debounce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">:</span> val <span class="token punctuation">}</span>
            <span class="token function">queryAsset</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">case</span> <span class="token string">'department'</span><span class="token operator">:</span>
                        _this<span class="token punctuation">.</span><span class="token property-access">departmentList</span> <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token property-access">data</span>
                        <span class="token keyword">break</span>
                    <span class="token comment">//省略</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

        <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token string">'department'</span><span class="token operator">:</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">department</span> <span class="token operator">=</span> val
                    <span class="token keyword">break</span>
                <span class="token comment">//省略</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//省略</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>
<p>参考：</p>
<p><a href="https://stackoverflow.com/questions/53041171/lodashs-debounce-not-working-in-vue-js" target="_blank" rel="nofollow noopener noreferrer">https://stackoverflow.com/questions/53041171/lodashs-debounce-not-working-in-vue-js</a></p>
<p><a href="https://es6.ruanyifeng.com/?search=%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0&#x26;x=0&#x26;y=0#docs/function#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0" target="_blank" rel="nofollow noopener noreferrer">https://es6.ruanyifeng.com/?search=箭头函数&#x26;x=0&#x26;y=0#docs/function#箭头函数</a></p>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/vue/" class="post-tags__link"><span>#</span> vue
		</a><a href="/tag/debounce/" class="post-tags__link"><span>#</span> debounce
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-dc1441e27ddfdc2289560309353e8605'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-dc1441e27ddfdc2289560309353e8605)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAGwAAAgMAAwAAAAAAAAAAAAAABgcEBQgBAgP/xAA3EAABAwIEAwUGBAcBAAAAAAABAgMEBREABhIhBxMxIkFRYXEIFDKRobEVQoHSFhcjcoKiwfD/xAAZAQACAwEAAAAAAAAAAAAAAAAAAQIDBAX/xAAlEQACAgIBAwQDAQAAAAAAAAABAgADESESBBQiEzGBoTJBUcH/2gAMAwEAAhEDEQA/AEZR841mlPqc5sWaFCxRNa1jx/TFuriPIcVd/LtFX12QhQ3/AFVjU8rKuXp/Zm0OnurIuVKiov8AMC%2bB6ocJslyr3ojLSj%2bZpa0f9t9MXH0T7rKVrK%2b0SauKKBToEalxH6QpCVGQlopU2pZIN09hRt12IHXvwbZNzxQ6hEifiFWiLrSELSp11vknSVX0hRSkdAPC9sESeCuTkIWkQnzqN9SpCipPkDtb64UXFnh3FyiumIpb0qaZfOOh1IJSlASdrDfYnC4VN4rqSYMBkxl5pdZzbRZFApNRgLmTgGm7yEkXuFb2J7knGfs65areTao1DrPKS843zUBpxLg03I6j0xeuF%2bNR6W5FRKjRmX1rZ1akhKyDci9t%2buHJwvpVNz3Qvf8AM0ViqSmFKjBchN1pQDcb38zi1V9Gvl%2bpnNo5FSMzMAmPd%2bk%2bqBibHqTzshAfWwhKiEqcU1q0jpew328sa4l8JcoSpTEZqkRmHHVXBQtSVEAXNt8AnE/KeSMjhEZ%2bhOrlPt623A%2bopAvYm17nw9ThjqAZF2QDJXUfo1WPQ46uXtuN8eLzDTpClpucdAlDSdLYsOvXGTIm%2bcXJFykp8sJf2gnVMT8tuNKdS4kSylTThQpJ0JsQRh0jSeuEV7TDi2F5aVHcKFFUlJKTbYoRcYaDLYgTgRTQKtmvMTjNKYXLqD0mwQyvSvUoC4tceR78GOV4XFPKIkCnZcWlL5HM5kNCzt4b%2bePfhgpMbO2Ui3oUFP6XHAtCSoclWxAPT18MahdeaKRZxB27ljG/qWWluAXInOosFq8sYmXq3n3iFRn4c6s01MRKFlDfMhBKFnqR8XW2JnECHmWvZQgZwqkmCYEyO2ost3Ryk6yCADfa4STvck%2bWCX2lp6afQaOlDaHS5KcPbN7djr9cJGLm2tJpkeniYfc2kgIa0iwHX7nEOIasMoAMbLy/MahpL42Z0El9sLpRS0nWS3HI2/yJ38sRlcWs8vMIdFUiNhYuAiC2bfMYi5nyPFi5edqlLmTnFpZFmnSn4L/ET4EHYbEfTA/AeoP4bEjyZFT99CLOIjtoWm9zsnx2tiocSMgTUSx0DCD%2bZueJJINdUDe1m4zafsnEynwatn2vwKZmTMTypKCstNmPzOVdPaJ02A2G%2b/diqdZpNGajSocic7UHgbR5DCQqMOoWpIO5IO3he/dbFzw%2bzK3lusO1FpkTJIacb5bjHJ5YuLqCvzdLWsDuRiDPrKD6jCsT5HUCU5ZdYfUWlS1JQ4UjXFUnVvYHr37fPHLkcp7KXOWq43BcB9PjxoNvivMkuU5mJS4j7k5QSlCluNlAIJubgjoMUMji6lhTyF0E8xpwtqRrItba97WtfEh1NraI%2b4HiN5iOmUyQ%2bhTjsxamkHoUuLCSTaw674kV6hScu1T3GWpC/wCmhxt1u%2bh1CkghSb72w%2bE8WUMwIypVEaaS8CUhx4%2bP9uBzPchriBGj8qCmnyoLhSHrlzW2RcgAW7N7EH1wdww24wJEqLPFTuWNPKJTTbM1hLNNU0WiX7nVfspSQO/xNrD7SWqNTWGlIh0qK0hQsoIaBBH0%2b%2bKOoZurE6WqLleM/KQ4o6ZTp5bRPfpHVVjgXzHBzozBdm1ifIiMtmzqkSVJSUnp2U93QWG%2b%2bOeUewgFuPz/AJNqhagcDPxDNyi0yTJCWWg24kaHUREpTcDprFzuPPHNeoiHIqk0anSH6s8VBkJXYhRupagDsNgScU/DfLVDkU5qpTjJjSXGrpdRJX2t7dEAetiThiZMlmMv3x5l51tLZQjRY2VcXNzbwPzwXVNSQSciOu1bAQo3FzJytmNRbcRQ6w3IaGzrarqWSBe%2b4tiMvL2cFJANOzAbb/8At8PNzNUNJ7TEseAuj92Ov8XwEi6mZYHqj92DuV/glfbuNDMQkrKddfaBlUivPOkgkqbKiLdLG%2bPTKs2qUits07NceoMe9JtG941I3Btt4g4eDmfqS2QC3LUrwGgk/wC2KXM%2bYadXI7BgNONVOI5rjvPIQQknZQPaOxHl1AwPcHXiw1HVSyNkT//Z' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.4a680a75610b5dc670fdc9bf8d3cd2cc.jpg" data-srcset="/assets/static/author.e6b6009.4a680a75610b5dc670fdc9bf8d3cd2cc.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.4a680a75610b5dc670fdc9bf8d3cd2cc.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">
		质量保障
	</p><p class="author__links"><a href="//github.com/Tangyiming">GitHub</a></p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020 Eamon Tang. All rights reserved. </span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Vue防抖并赋值data值","path":"\u002Fvue-data\u002F","date":"7. November 2019","timeToRead":1,"tags":[{"id":"vue","title":"vue","path":"\u002Ftag\u002Fvue\u002F"},{"id":"debounce","title":"debounce","path":"\u002Ftag\u002Fdebounce\u002F"}],"description":"远程模糊搜索select下拉项时，为了避免输入时过多的请求，在vue中添加优化防抖功能","content":"\u003Cp\u003E远程模糊搜索select下拉项时，为了避免输入时过多的请求，在vue中添加优化防抖功能，但是中间遇到了两个问题：\u003C\u002Fp\u003E\n\u003Cp\u003E1.防抖不起作用，根本不delay，最终发现是函数声明方式导致。使用箭头函数声明，箭头函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象，它是固定不变的。\u003C\u002Fp\u003E\n\u003Cp\u003E2.因为箭头函数里this指向作用域问题，无法给data中的变量赋值，最终通过先获得顶层this域，再赋值解决。\u003C\u002Fp\u003E\n\u003Cp\u003E上代码：\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E--\u003C\u002Fspan\u003E省略\u003Cspan class=\"token operator\"\u003E--\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E\n     \u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003Ea\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Eselect\n       showSearch\n       allowClear\n       \u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003Evalue\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"department\"\u003C\u002Fspan\u003E\n       \u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003EdefaultActiveFirstOption\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"false\"\u003C\u002Fspan\u003E\n       \u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003EshowArrow\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"false\"\u003C\u002Fspan\u003E\n       \u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003EfilterOption\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"false\"\u003C\u002Fspan\u003E\n       @search\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"val =\u003E handleSearch('department', val)\"\u003C\u002Fspan\u003E\n       @change\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"val =\u003E handleChange('department', val)\"\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E\n           \u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003Ea\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Eselect\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Eoption\n            v\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token keyword\"\u003Efor\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"d in departmentList\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003Ekey\u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\"d\"\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E d \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Ea\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Eselect\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Eoption\n           \u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E\n     \u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Ea\u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003Eselect\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E!\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E--\u003C\u002Fspan\u003E省略\u003Cspan class=\"token operator\"\u003E--\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword module\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E queryAsset \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword module\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'@\u002Fapi\u002Ftoolset'\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword module\"\u003Eimport\u003C\u002Fspan\u003E _ \u003Cspan class=\"token keyword module\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'lodash'\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Elet\u003C\u002Fspan\u003E _this \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword module\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword module\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Edata\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n            departmentList\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n            department\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E''\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"token function\"\u003EbeforeCreate\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        _this \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Ethis\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    methods\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n        handleSearch\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E _\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Edebounce\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Ekey\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E val\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token arrow operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token keyword\"\u003Elet\u003C\u002Fspan\u003E p \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003Ekey\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E val \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token function\"\u003EqueryAsset\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ep\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Ethen\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Eres\u003C\u002Fspan\u003E \u003Cspan class=\"token arrow operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token keyword\"\u003Eswitch\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token known-class-name class-name\"\u003EObject\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token method function property-access\"\u003Ekeys\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ep\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E0\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"token keyword\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'department'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E\n                        _this\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003EdepartmentList\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E res\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Edata\u003C\u002Fspan\u003E\n                        \u003Cspan class=\"token keyword\"\u003Ebreak\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"token comment\"\u003E\u002F\u002F省略\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E500\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\n        \u003Cspan class=\"token function\"\u003EhandleChange\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Ekey\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E val\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token keyword\"\u003Eswitch\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ekey\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E{\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token keyword\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'department'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E\n                    \u003Cspan class=\"token keyword\"\u003Ethis\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token property-access\"\u003Edepartment\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E val\n                    \u003Cspan class=\"token keyword\"\u003Ebreak\u003C\u002Fspan\u003E\n                \u003Cspan class=\"token comment\"\u003E\u002F\u002F省略\u003C\u002Fspan\u003E\n            \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token comment\"\u003E\u002F\u002F省略\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E}\u003C\u002Fspan\u003E\n\u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E\u002F\u003C\u002Fspan\u003Escript\u003Cspan class=\"token operator\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E参考：\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F53041171\u002Flodashs-debounce-not-working-in-vue-js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F53041171\u002Flodashs-debounce-not-working-in-vue-js\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fes6.ruanyifeng.com\u002F?search=%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0&#x26;x=0&#x26;y=0#docs\u002Ffunction#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fes6.ruanyifeng.com\u002F?search=箭头函数&#x26;x=0&#x26;y=0#docs\u002Ffunction#箭头函数\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n","cover_image":null}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.4e082d9d.js" defer></script><script src="/assets/js/page--src-templates-post-vue.4ce22b07.js" defer></script>
  </body>
</html>